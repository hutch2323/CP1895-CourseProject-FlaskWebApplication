{% extends "base.html" %}
{% block title %}Modify User{% endblock %}
{% block content %}

    <div id="heading" class="mt-4 p-4 bg-dark text-white">
      <h1 class="text-center">Modify User</h1>
    </div>
    <form class="p-3" method="POST" enctype="multipart/form-data">
      <div class="form-group pb-3">
        <label for="userName">Username</label>
        <input
          type="text"
          class="form-control"
          id="userName"
          name="userName"
          {% if 'userName' in form %}
              value="{{form['userName']}}"
          {% else %}
            value="{{userToModify.username}}"
          {% endif %}
        />
      </div>
      <div class="form-group pb-3">
        <label for="email">Email Address</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          {% if 'email' in form %}
              value="{{form['email']}}"
          {% else %}
            value="{{userToModify.emailAddress}}"
          {% endif %}
        />
      </div>
      <div class="form-group pb-3">
        <label for="firstName">First Name</label>
        <input
          type="text"
          class="form-control"
          id="firstName"
          name="firstName"
          {% if 'firstName' in form %}
            value="{{form['firstName']}}"
          {% else %}
            value="{{userToModify.firstName}}"
          {% endif %}
        />
      </div>
      <div class="form-group pb-3">
        <label for="lastName">Last Name</label>
        <input
          type="text"
          class="form-control"
          id="lastName"
          name="lastName"
          {% if 'lastName' in form %}
            value="{{form['lastName']}}"
          {% else %}
            value="{{userToModify.lastName}}"
          {% endif %}
        />
      </div>
      {% if permission != "admin" %}
        <div id="currentPasswordContainer" class="form-group pb-3">
        <label for="password1">Password</label>
        <input
          type="password"
          class="form-control"
          id="currentPassword"
          name="currentPassword"
          value=""
        />
      </div>
      {% endif %}
      <div class="form-group pb-3" style="margin: auto">
        <input class="form-check-input" type="checkbox" value="" id="updatePassword" name="updatePassword">
        <label class="form-check-label" for="updatePassword">
          Update Password
        </label>
      </div>
      <div id="password1Container" class="form-group pb-3">
        <label for="password1">New Password</label>
        <input
          type="password"
          class="form-control"
          id="password1"
          name="password1"
          value=""
        />
      </div>
      <div id="password2Container" class="form-group pb-3">
        <label for="password2">New Password (Confirm)</label>
        <input
          type="password"
          class="form-control"
          id="password2"
          name="password2"
          value=""
        />
      </div>
      {% if permission == "admin" %}
        <div class="form-group pb-3">
          <label for="permission">Permission</label>
          <select class="form-select" id="permission" name="permission" onclick="" style="display:inline-block">
              {% if userToModify.permission == "admin" %}
                <option value="none">None</option>
                <option value="admin" selected>Admin</option>
              {% else %}
                <option value="none" selected>None</option>
                <option value="admin">Admin</option>
              {% endif %}
          </select>
        </div>
      {% endif %}
      <br />
      <div class="form-group pb-3 text-center"><button id="submit" type="submit" class="btn btn-primary">Submit</button></div>
    </form>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-3.6.0-min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/modifyUser.js') }}"></script>
{% endblock %}