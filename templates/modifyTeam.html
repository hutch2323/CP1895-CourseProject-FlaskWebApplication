{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content%}
        <h1>Player Selection</h1>

<!--        <form>-->
<!--            <label for="teamSelector">Team Name:</label>-->
<!--            <select id="teamSelector" name="teamSelection" onclick="">-->
<!--                {% for team in poolTeams %}-->
<!--                    <option value="{{team.teamName}}">{{team.teamName}}</option>-->
<!--                {% endfor %}-->
<!--            </select>-->
<!--            <button type="button" id="teamSelectorButton" class='btn btn-default'>Submit</button>-->
<!--        </form>-->

        <form id="teamSelection" method="POST" action="" enctype="multipart/form-data", style="width:50%;margin:auto">
            <label for="teamLogo">Logo:</label>
            <input type="file" name="teamLogo" id="teamLogo" accept=".png, .jfif, .jpg, .jpeg" value="{{poolTeam.teamLogo}}" required>
            <br>
            <label for="teamName">Team Name:</label>
            <input type="text" name="teamName" id="teamName" value="{{poolTeam.teamName}}" required>
            <p><input type="submit" value="Submit"></p>

            {% set count = namespace(value=1) %}
            {% for i in range(7) %}
                <div class="tableRows">
                    {% for j in range(3) %}
                    <div id="block{{count.value}}" class="block">
                        <h5>Group: {{count.value}}</h5>
                        <select name="block{{count.value}}" id="{{count.value}}" size="5", style="overflow-y:auto;padding:5px;border:0px" required>
                        {% for player in playerSelections %}
                            {% if player.blockID == count.value %}
                                {% if player.playerID == poolTeam.roster[count.value-1] %}
                                    <option value="{{player.playerID}}" selected="{{player.playerID}}">{{ player.firstName + " " + player.lastName +
                                        " (" + teams[player.teamID] + ")"}}</option>
                                {% else %}
                                    <option value="{{player.playerID}}">{{ player.firstName + " " + player.lastName +
                                        " (" + teams[player.teamID] + ")"}}</option>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                        </select>
                    </div>
                    {% set count.value = count.value + 1 %}
                    {% endfor %}
                </div>
            {% endfor %}
        </form>
        <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-3.6.0-min.js') }}"></script>
<!--		<script type=text/javascript>-->
<!--			$(function() {-->
<!--			  // $('a#process_input').bind('click', function() {-->
<!--				// $.getJSON('/background_process', {-->
<!--				//   proglang: $('input[name="proglang"]').val(),-->
<!--				// }, function(data) {-->
<!--				//   $("#result").text(data.result);-->
<!--				// });-->
<!--				// return false;-->
<!--			  // });-->
<!--                $("#teamSelectorButton").click( () => {-->
<!--                    // $.getJSON('/background_process', {-->
<!--                    //   teamSelection: $('input[name="teamSelection"]').val(),-->
<!--                    // }, function(data) {-->
<!--                    //   $("#teamName").text(data.teamName + " - " + data.username);-->
<!--                    // });-->
<!--                    console.log(data);-->
<!--                    $("#teamSelection").css("display", "block");-->
<!--                    // let team = $("#teamSelector").val();-->
<!--                })-->
<!--			});-->
<!--		</script>-->
        <script type="text/javascript" src="{{ url_for('static', filename='js/modifyTeam.js') }}"></script>

{% endblock %}